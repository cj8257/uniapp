{"version":3,"file":"message.js","sources":["pages/message/message.vue","../../Downloads/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVzc2FnZS9tZXNzYWdlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"message-list\">\r\n\t\t\t<view v-for=\"(message, index) in messages\" :key=\"index\" \r\n\t\t\t\t  class=\"message-item\"\r\n\t\t\t\t  :class=\"{'unread': !message.read}\">\r\n\t\t\t\t<view class=\"message-content\">\r\n\t\t\t\t\t<view class=\"message-title\">{{message.title}}</view>\r\n\t\t\t\t\t<view class=\"message-text\">{{message.content}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"message-time\">{{formatTime(message.time)}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"empty-tip\" v-if=\"messages.length === 0\">\r\n\t\t\t<image class=\"empty-icon\" src=\"/static/empty-message.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<text>暂无消息</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmessages: []\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tformatTime(time) {\r\n\t\t\tconst date = new Date(time)\r\n\t\t\tconst now = new Date()\r\n\t\t\tconst diff = now - date\r\n\t\t\t\r\n\t\t\t// 小于1分钟\r\n\t\t\tif (diff < 60000) {\r\n\t\t\t\treturn '刚刚'\r\n\t\t\t}\r\n\t\t\t// 小于1小时\r\n\t\t\tif (diff < 3600000) {\r\n\t\t\t\treturn Math.floor(diff / 60000) + '分钟前'\r\n\t\t\t}\r\n\t\t\t// 小于24小时\r\n\t\t\tif (diff < 86400000) {\r\n\t\t\t\treturn Math.floor(diff / 3600000) + '小时前'\r\n\t\t\t}\r\n\t\t\t// 小于30天\r\n\t\t\tif (diff < 2592000000) {\r\n\t\t\t\treturn Math.floor(diff / 86400000) + '天前'\r\n\t\t\t}\r\n\t\t\t// 大于30天显示具体日期\r\n\t\t\treturn date.toLocaleDateString()\r\n\t\t},\r\n\t\tasync fetchMessages() {\r\n\t\t\t// TODO: 调用后端API获取消息列表\r\n\t\t\t// 模拟数据\r\n\t\t\tthis.messages = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: '设备归还提醒',\r\n\t\t\t\t\tcontent: '您借用的笔记本电脑即将到期，请及时归还。',\r\n\t\t\t\t\ttime: new Date().getTime() - 3600000,\r\n\t\t\t\t\tread: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: '系统通知',\r\n\t\t\t\t\tcontent: '系统升级完成，新功能已上线。',\r\n\t\t\t\t\ttime: new Date().getTime() - 86400000,\r\n\t\t\t\t\tread: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t},\r\n\tonShow() {\r\n\t\tthis.fetchMessages()\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #F5F5F5;\r\n\tpadding: 20rpx;\r\n\t\r\n\t.message-list {\r\n\t\t.message-item {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t\r\n\t\t\t&.unread {\r\n\t\t\t\tbackground-color: #F0F7FF;\r\n\t\t\t\t\r\n\t\t\t\t.message-title {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.message-content {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\r\n\t\t\t\t.message-title {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.message-text {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.message-time {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.empty-tip {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding-top: 200rpx;\r\n\t\t\r\n\t\t.empty-icon {\r\n\t\t\twidth: 200rpx;\r\n\t\t\theight: 200rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t\ttext {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\t}\r\n}\r\n</style> ","import MiniProgramPage from 'C:/Users/admin/Desktop/办公管理/pages/message/message.vue'\nwx.createPage(MiniProgramPage)"],"names":[],"mappings":";;;AAsBA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAC;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,WAAW,MAAM;AAChB,YAAM,OAAO,IAAI,KAAK,IAAI;AAC1B,YAAM,MAAM,oBAAI,KAAK;AACrB,YAAM,OAAO,MAAM;AAGnB,UAAI,OAAO,KAAO;AACjB,eAAO;AAAA,MACR;AAEA,UAAI,OAAO,MAAS;AACnB,eAAO,KAAK,MAAM,OAAO,GAAK,IAAI;AAAA,MACnC;AAEA,UAAI,OAAO,OAAU;AACpB,eAAO,KAAK,MAAM,OAAO,IAAO,IAAI;AAAA,MACrC;AAEA,UAAI,OAAO,QAAY;AACtB,eAAO,KAAK,MAAM,OAAO,KAAQ,IAAI;AAAA,MACtC;AAEA,aAAO,KAAK,mBAAmB;AAAA,IAC/B;AAAA,IACD,MAAM,gBAAgB;AAGrB,WAAK,WAAW;AAAA,QACf;AAAA,UACC,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAM,oBAAI,QAAO,QAAQ,IAAI;AAAA,UAC7B,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,OAAO;AAAA,UACP,SAAS;AAAA,UACT,OAAM,oBAAI,QAAO,QAAU,IAAE;AAAA,UAC7B,MAAM;AAAA,QACP;AAAA,MACD;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,cAAc;AAAA,EACpB;AACD;;;;;;;;;;;;;;;;;;AC1EA,GAAG,WAAW,eAAe;"}