{"version":3,"file":"manage.js","sources":["pages/manage/manage.vue","../../Downloads/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFuYWdlL21hbmFnZS52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"watermark\">设备管理系统</view>\n\t\t<view class=\"device-list\">\n\t\t\t<view v-for=\"(device, index) in devices\" :key=\"index\" \n\t\t\t\t  class=\"device-item\" \n\t\t\t\t  :class=\"{'overdue': isOverdue(device.returnDate), 'normal': !isOverdue(device.returnDate)}\">\n\t\t\t\t<image class=\"device-image\" :src=\"device.image\" mode=\"aspectFill\"></image>\n\t\t\t\t<view class=\"device-info\">\n\t\t\t\t\t<view class=\"device-header\">\n\t\t\t\t\t\t<text class=\"device-name\">{{device.name}}</text>\n\t\t\t\t\t\t<text class=\"device-code\">编号：{{device.code}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"date-info\">\n\t\t\t\t\t\t<text>借出日期：{{formatDate(device.borrowDate)}}</text>\n\t\t\t\t\t\t<text>归还日期：{{formatDate(device.returnDate)}}</text>\n\t\t\t\t\t\t<text v-if=\"isOverdue(device.returnDate)\" class=\"overdue-text\">已逾期！</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdevices: []\n\t\t}\n\t},\n\tmethods: {\n\t\tformatDate(date) {\n\t\t\treturn new Date(date).toLocaleDateString()\n\t\t},\n\t\tisOverdue(returnDate) {\n\t\t\treturn new Date(returnDate) < new Date()\n\t\t},\n\t\tasync fetchDevices() {\n\t\t\t// TODO: 调用后端API获取设备列表\n\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\n\t\t\tif (!userInfo) return\n\t\t\tconst {data} = await this.$api.device_all({\n\t\t\t\tphone: userInfo.phone\n\t\t\t})\n\t\t\tconsole.log(data);\n\t\t\t// 模拟数据\n\t\t\tthis.devices = data.map(item => {\n\t\t\t\treturn {\n\t\t\t\t\tname: item.name,\n\t\t\t\t\tcode: item.code,\n\t\t\t\t\timage: item.url,\n\t\t\t\t\tborrowDate: item.lastMaintenanceDate,\n\t\t\t\t\treturnDate: item.nextMaintenanceDate\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tonShow() {\n\t\tthis.fetchDevices()\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n\tpadding: 20rpx;\n\tposition: relative;\n\t\n\t.watermark {\n\t\tposition: fixed;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%) rotate(-45deg);\n\t\tfont-size: 60rpx;\n\t\tcolor: rgba(0, 0, 0, 0.1);\n\t\tpointer-events: none;\n\t\tz-index: 1;\n\t}\n\t\n\t.device-list {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\t\n\t\t.device-item {\n\t\t\tdisplay: flex;\n\t\t\tbackground-color: #FFFFFF;\n\t\t\tpadding: 20rpx;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\tborder-radius: 12rpx;\n\t\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\t\t\t\n\t\t\t&.normal {\n\t\t\t\tbackground-color: #F6FFED;\n\t\t\t\tborder: 2rpx solid #52C41A;\n\t\t\t\t\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tbackground: linear-gradient(45deg, rgba(82,196,26,0.1) 0%, rgba(82,196,26,0.2) 100%);\n\t\t\t\t\tz-index: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t&.overdue {\n\t\t\t\tbackground-color: #FFF1F0;\n\t\t\t\tborder: 2rpx solid #FF4D4F;\n\t\t\t\tanimation: pulse 2s infinite;\n\t\t\t\t\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tbackground: linear-gradient(45deg, rgba(255,77,79,0.1) 0%, rgba(255,77,79,0.2) 100%);\n\t\t\t\t\tz-index: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.device-image {\n\t\t\t\twidth: 160rpx;\n\t\t\t\theight: 160rpx;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\tmargin-right: 20rpx;\n\t\t\t\tposition: relative;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\t\t\t\n\t\t\t.device-info {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tposition: relative;\n\t\t\t\tz-index: 1;\n\t\t\t\t\n\t\t\t\t.device-header {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\t\n\t\t\t\t\t.device-name {\n\t\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\tcolor: #333333;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.device-code {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #666666;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.date-info {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\n\t\t\t\t\ttext {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #666666;\n\t\t\t\t\t\tmargin-top: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.overdue-text {\n\t\t\t\t\t\tcolor: #FF4D4F;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tmargin-top: 15rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n@keyframes pulse {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 rgba(255,77,79,0.4);\n\t}\n\t70% {\n\t\tbox-shadow: 0 0 0 10rpx rgba(255,77,79,0);\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 0 rgba(255,77,79,0);\n\t}\n}\n</style> ","import MiniProgramPage from 'C:/Users/admin/Desktop/办公管理/pages/manage/manage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAyBA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS,CAAC;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,WAAW,MAAM;AAChB,aAAO,IAAI,KAAK,IAAI,EAAE,mBAAmB;AAAA,IACzC;AAAA,IACD,UAAU,YAAY;AACrB,aAAO,IAAI,KAAK,UAAU,IAAI,oBAAI,KAAK;AAAA,IACvC;AAAA,IACD,MAAM,eAAe;AAEpB,YAAM,WAAWA,cAAAA,MAAI,eAAe,UAAU;AAE9C,UAAI,CAAC;AAAU;AACf,YAAM,EAAC,KAAI,IAAI,MAAM,KAAK,KAAK,WAAW;AAAA,QACzC,OAAO,SAAS;AAAA,OAChB;AACDA,oBAAAA,MAAY,MAAA,OAAA,iCAAA,IAAI;AAEhB,WAAK,UAAU,KAAK,IAAI,UAAQ;AAC/B,eAAO;AAAA,UACN,MAAM,KAAK;AAAA,UACX,MAAM,KAAK;AAAA,UACX,OAAO,KAAK;AAAA,UACZ,YAAY,KAAK;AAAA,UACjB,YAAY,KAAK;AAAA,QAClB;AAAA,OACA;AAAA,IACF;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,aAAa;AAAA,EACnB;AACD;;;;;;;;;;;;;;;;;;;;AC7DA,GAAG,WAAW,eAAe;"}