{"version":3,"names":["ajax","_ref","name","_ref$data","data","loading","isLoading","Promise","resolve","reject","common_vendor","index","showLoading","title","nr","callFunction","success","_ref2","result","code","showToast","icon","msg","fail","err","complete","res","hideLoading"],"sources":["http.js"],"sourcesContent":["export default ({ name, data = {} }) => {\n  /* 导出promise对象 */\n  const loading = data.isLoading\n  data.isLoading && delete data.isLoading;\n  return new Promise((resolve, reject) => {\n    !loading && uni.showLoading({\n      title: \"加载中\"\n    })\n    uniCloud.callFunction({\n      name,\n      data,\n      success ({ result }) {\r\n        if (result.code === 0) {\n          resolve(result)\n        } else {\n           uni.showToast({ icon: \"none\", title: result.msg })\n        }\n      },\n      fail (err) {\n        reject(err)\n      },\n      complete (res) {\n       !loading &&  uni.hideLoading()\n      }\n    })\n  })\n}\n"],"mappings":";;;;AAAA,IAAeA,IAAA,YAAAA,KAAAC,IAAA,EAAyB;EAAA,IAAtBC,IAAA,GAAAD,IAAA,CAAAC,IAAA;IAAAC,SAAA,GAAAF,IAAA,CAAMG,IAAA;IAAAA,IAAA,GAAAD,SAAA,cAAO,KAAAA,SAAA;EAE7B,IAAME,OAAA,GAAUD,IAAA,CAAKE,SAAA;EACrBF,IAAA,CAAKE,SAAA,IAAa,OAAOF,IAAA,CAAKE,SAAA;EAC9B,OAAO,IAAIC,OAAA,CAAQ,UAACC,OAAA,EAASC,MAAA,EAAW;IACtC,CAACJ,OAAA,IAAWK,aAAA,CAAGC,KAAA,CAACC,WAAA,CAAY;MAC1BC,KAAA,EAAO;IACb,CAAK;IACDH,aAAA,CAAAI,EAAA,CAASC,YAAA,CAAa;MACpBb,IAAA,EAAAA,IAAA;MACAE,IAAA,EAAAA,IAAA;MACAY,OAAA,WAAAA,QAAAC,KAAA,EAAqB;QAAA,IAAVC,MAAA,GAAAD,KAAA,CAAAC,MAAA;QACT,IAAIA,MAAA,CAAOC,IAAA,KAAS,GAAG;UACrBX,OAAA,CAAQU,MAAM;QACxB,OAAe;UACJR,aAAA,CAAGC,KAAA,CAACS,SAAA,CAAU;YAAEC,IAAA,EAAM;YAAQR,KAAA,EAAOK,MAAA,CAAOI;UAAA,CAAK;QACnD;MACF;MACDC,IAAA,WAAAA,KAAMC,GAAA,EAAK;QACTf,MAAA,CAAOe,GAAG;MACX;MACDC,QAAA,WAAAA,SAAUC,GAAA,EAAK;QACd,CAACrB,OAAA,IAAYK,aAAA,CAAGC,KAAA,CAACgB,WAAA,EAAa;MAC9B;IACP,CAAK;EACL,CAAG;AACH","ignoreList":[]}