"use strict";const e=require("../../common/vendor.js"),t={data:()=>({devices:[]}),methods:{formatDate:e=>new Date(e).toLocaleDateString(),isOverdue:e=>new Date(e)<new Date,async fetchDevices(){const t=e.index.getStorageSync("userInfo");if(!t)return;const{data:a}=await this.$api.device_all({phone:t.phone});console.log(a),this.devices=a.map((e=>({name:e.name,code:e.code,image:e.url,borrowDate:e.lastMaintenanceDate,returnDate:e.nextMaintenanceDate})))}},onShow(){this.fetchDevices()}};const a=e._export_sfc(t,[["render",function(t,a,r,n,o,c){return{a:e.f(o.devices,((t,a,r)=>e.e({a:t.image,b:e.t(t.name),c:e.t(t.code),d:e.t(c.formatDate(t.borrowDate)),e:e.t(c.formatDate(t.returnDate)),f:c.isOverdue(t.returnDate)},(c.isOverdue(t.returnDate),{}),{g:a,h:c.isOverdue(t.returnDate)?1:"",i:c.isOverdue(t.returnDate)?"":1})))}}]]);wx.createPage(a);
